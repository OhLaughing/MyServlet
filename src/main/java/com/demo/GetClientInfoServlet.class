package com.demo;

import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;
import java.io.PrintWriter;
import java.util.Enumeration;

public class GetClientInfoServlet extends HttpServlet {

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws IOException {
        resp.setContentType("text/html;charset=UTF-8");
        PrintWriter out = resp.getWriter();
        String name = req.getParameter("name");
        Enumeration<String> heads = req.getHeaderNames();


        out.println("<html>");
        out.println("<head>");
        out.println("<title>Hello First Servlet</title>");
        out.println("</head>");
        out.println("<body>");
        out.println("<h1> Hello!" + name + " ! </h1>");
        while (heads.hasMoreElements()) {
            String head = heads.nextElement();
            out.println("<h3> " + head + ": " + req.getHeader(head) + " ! </h3>");
        }
        out.println("</body>");
        out.println("</html>");
        out.close();
    }

}
